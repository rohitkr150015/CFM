ðŸ“Œ REQUIRED FRONT-END UPDATE INSTRUCTIONS

Using the above SQL database, update my existing Course File Manager front-end so that:

1. Correct Entity Mapping (Most Important)

Map all front-end operations to the correct database tables:

âœ” Institute â†’ Department â†’ Program â†’ Branch â†’ Semester
âœ” Course â†’ Course_File â†’ Heading â†’ Document
âœ” Teacher â†’ User â†’ Course_Teacher
âœ” Approval â†’ Notifications â†’ Activity_Log
âœ” Template â†’ Template Structure

The UI must be aligned so the backend developer can directly connect using this schema.

2. Update Teacher Dashboard According to Database

The teacher dashboard must load everything dynamically from the DB structure:

Teacher Sees:

Assigned Courses (from Course_Teacher)

Only those Course Files where:

created_by = teacher_id

OR teacher is assigned in Course_Teacher

Academic Year selection

List of units/headings (linked to Heading table)

Only approved courses appear if:

Course_File.status = 'APPROVED'

Only assigned courses appear if:

teacher_id exists in Course_Teacher.

3. Course File Tree Structure Must Match Heading Table

The entire notes structure must be built from the database table:

Table: Heading

id

course_file_id

parent_heading_id

title

order_index

Your front-end must:

âœ” Load heading tree recursively
âœ” Support infinite nesting
âœ” Mark completed when Document exists
âœ” Allow Add Heading, Add Sub-Heading
âœ” Delete Heading (where allowed)
âœ” Reorder headings (update order_index)

4. Upload System Must Match Document Table
Table: Document

heading_id

uploaded_by

file_name

file_path

type

file_size

version_no

Front-end must:

âœ” Upload file
âœ” Display file name
âœ” Show version number
âœ” Support delete / edit / download
âœ” Mark completion on upload
âœ” Show file size & type
âœ” Update version number when re-uploaded

5. Template System Must Match Template Table
Table: Template

name

description

structure JSON

checklist JSON

Front-end must:

âœ” Show multiple template options
âœ” Allow teacher to choose template
âœ” Load template structure into "Heading" builder
âœ” Save chosen template structure preview
âœ” Allow admin to create templates
âœ” Allow HOD to approve templates

6. Approval Workflow Integration

Match table:

Approval

approver_id

stage

status

comment

Front-end Must Support:

âœ” Teacher â†’ Submit
âœ” HOD â†’ Approve / Reject
âœ” Principal â†’ Approve / Reject
âœ” Comments visible under course file
âœ” Comments linked via (course_file_id, heading_id, document_id)

7. Notification Based on Actions

Match Notification table:

âœ” Send notification when:

New file uploaded

Course file submitted

Course file approved

Comment added

Front-end must include:

âœ” Notification bell
âœ” Dropdown list
âœ” Mark as read

8. Activity Log Integration

Every major action must call:

Activity_Log

actor_id

action

target_type

target_id

details

Front-end must support sending logs on:

âœ” Upload
âœ” Delete
âœ” Edit
âœ” Template Applied
âœ” Heading Created
âœ” Course File Submitted
âœ” Approval Reviewed

9. Update the UI to Match This Data Model

You must update:

âœ” Forms
âœ” Dropdowns
âœ” Dynamic lists
âœ” Sidebar
âœ” Tree structure
âœ” File uploads
âœ” Progress bars
âœ” Template popup

Everything must be aligned to the SQL structure.

10. Deliverables

Return the complete updated project:

âœ” Full HTML
âœ” Full CSS / Bootstrap 5
âœ” Full JavaScript
âœ” Clean folder structure
âœ” Correct mapping names matching database
âœ” Comments in code explaining DB mapping
âœ” Updated tree builder
âœ” Updated file uploader
âœ” Updated template system
âœ” Dynamic progress bar
âœ” Updated Teacher dashboard
âœ” Updated Admin/HOD dashboard
âœ” API endpoint placeholders for backend developer

Do NOT rewrite my database.
Just use it EXACTLY as given.